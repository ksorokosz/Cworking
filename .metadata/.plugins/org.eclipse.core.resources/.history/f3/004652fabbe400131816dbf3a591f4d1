#include "CW_Memory_Allocator_Main.h"

int main()
{
	/* Declare simple memory pool */
	CW_Memory_Pool cw_memory_pool;

	/* Memory block */
	CW_uint32_t  cw_block         = 0;

	/* Declare array size */
	CW_uint32_t  cw_size          = 10000;

	/* Array */
	CW_uint32_t* array[ cw_size ];

	/* Create memory pool */
	CREATE_MEMORY_POOL(CW_uint32_t, cw_size, &cw_memory_pool );

	/* For each memory block */
	for ( ; cw_block < cw_size; cw_block++ )
	{
		array[ cw_block ] = MALLOC_STATIC( &cw_memory_pool, CW_uint32_t, 1 );
	}

	/* For each memory block */
	for ( cw_block = 0; cw_block < cw_size; cw_block++ )
	{
		FREE_STATIC( &cw_memory_pool, array[ cw_block ] );
	}

	/* Remove memory pool */
	REMOVE_MEMORY_POOL( &cw_memory_pool );

	return 0;
}
